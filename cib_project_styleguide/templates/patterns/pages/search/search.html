{% extends "patterns/base_page.html" %}
{% load static wagtailcore_tags wagtailsearchpromotions_tags i18n %}

{% block body_class %}template-searchresults{% endblock %}
     
{% block title %}
    {% if search_query %}
        {% trans 'Search results for' %} &ldquo;{{ search_query }}&rdquo;
    {% else %}
        {% trans 'Search' %}
    {% endif %}
{% endblock %}

{% block content %}

            {% get_search_promotions search_query as search_picks %}

            {% if search_picks %}
                <ul>
                    {% for pick in search_picks %}
                        <li>
                            {% include "patterns/molecules/search-result/search-result.html" with result=pick.page.specific %}
                        </li>
                    {% endfor %}
                </ul>
            {% endif %}

            {% if search_results %}

            <div class="search-results">
                <div class="container-fluid" id="reboot-search-drawer-custom-nav">
                    <div class="container">
                        <div class="row">
                            <div class="col-sm-10 col-sm-offset-1">
                                {% with count=search_results.paginator.num_pages %}
                                    <div class="search-results__count border--bottom__div">
                                        {% if count %}
                                            {{count}} {% trans 'results' %}
                                        {% else %}
                                            0 {% trans 'results' %}
                                        {% endif %}
                                        
                                    </div>
                                {% endwith %}
                                <ul class="ul--no-style">
                                    {% for result in search_results %}
                                        <li class="border--bottom__div">
                                            {% include "patterns/molecules/search-result/search-result.html" with result=result.specific %}
                                        </li>
                                    {% endfor %}
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>

                {% elif search_query and not search_picks %}
                    {% trans 'No results found.' %}
                {% endif %}
            </div>
            {% include "patterns/molecules/pagination/pagination.html" with paginator_page=search_results %}
        </div>
    </div>

{% endblock %}
